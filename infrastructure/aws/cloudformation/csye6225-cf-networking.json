{
   "AWSTemplateFormatVersion":"2010-09-09",
   "Description":"",
   "Parameters":{
      "stackname":{
         "Description":"name of network stack",
         "Type":"String"
      },
      "vpcblock":{
         "Description":"VPC ID Block",
         "Type":"String"
      },
      "zone1":{
         "Description":"Zone 1a for subnet 1",
         "Type":"String"
      },
      "zone2":{
         "Description":"Zone 1a for subnet 1",
         "Type":"String"
      },
      "zone3":{
         "Description":"Zone 1a for subnet 1",
         "Type":"String"
      },
      "subnetip1":{
         "Description":"cidr for subnet 1",
         "Type":"String"
      },
      "subnetip2":{
         "Description":"cidr for subnet 2",
         "Type":"String"
      },
      "subnetip3":{
         "Description":"cidr for subnet 3",
         "Type":"String"
      }
   },
   "Resources":{
      "myVPC":{
         "Type":"AWS::EC2::VPC",
         "Properties":{
            "CidrBlock":{
               "Ref":"vpcblock"
            }
         }
      },
      "subnet1":{
         "Type":"AWS::EC2::Subnet",
         "Properties":{
            "AvailabilityZone":{
               "Ref":"zone1"
            },
            "VpcId":{
               "Ref":"myVPC"
            },
            "CidrBlock":{
               "Ref":"subnetip1"
            }
         }
      },
      "subnet2":{
         "Type":"AWS::EC2::Subnet",
         "Properties":{
            "AvailabilityZone":{
               "Ref":"zone2"
            },
            "VpcId":{
               "Ref":"myVPC"
            },
            "CidrBlock":{
               "Ref":"subnetip2"
            }
         }
      },
      "subnet3":{
         "Type":"AWS::EC2::Subnet",
         "Properties":{
            "AvailabilityZone":{
               "Ref":"zone3"
            },
            "VpcId":{
               "Ref":"myVPC"
            },
            "CidrBlock":{
               "Ref":"subnetip3"
            }
         }
      },
      "myRouteTable":{
         "Type":"AWS::EC2::RouteTable",
         "Properties":{
            "VpcId":{
               "Ref":"myVPC"
            }
         }
      },
      "myInternetGateway":{
         "Type":"AWS::EC2::InternetGateway",
         "Properties":{
            "Tags":[
               "-"
            ]
         }
      },
      "AttachGateway":{
         "Type":"AWS::EC2::VPCGatewayAttachment",
         "Properties":{
            "VpcId":{
               "Ref":"myVPC"
            },
            "InternetGatewayId":{
               "Ref":"myInternetGateway"
            }
         }
      },
      "IG_RouteTable_Route":{
         "Type":"AWS::EC2::Route",
         "Properties":{
            "RouteTableId":{
               "Ref":"myRouteTable"
            },
            "DestinationCidrBlock":"0.0.0.0/0",
            "GatewayId":{
               "Ref":"myInternetGateway"
            }
         }
      },
      "SubnetRouteTableAssociation1":{
         "Type":"AWS::EC2::SubnetRouteTableAssociation",
         "Properties":{
            "SubnetId":{
               "Ref":"subnet1"
            },
            "RouteTableId":{
               "Ref":"myRouteTable"
            }
         }
      },
      "SubnetRouteTableAssociation2":{
         "Type":"AWS::EC2::SubnetRouteTableAssociation",
         "Properties":{
            "SubnetId":{
               "Ref":"subnet2"
            },
            "RouteTableId":{
               "Ref":"myRouteTable"
            }
         }
      },
      "SubnetRouteTableAssociation3":{
         "Type":"AWS::EC2::SubnetRouteTableAssociation",
         "Properties":{
            "SubnetId":{
               "Ref":"subnet3"
            },
            "RouteTableId":{
               "Ref":"myRouteTable"
            }
         }
      }
   },
   "Outputs":{

   }
}
